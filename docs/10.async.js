(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{R29j:function(t,e,a){"use strict";var l=a("284h"),i=a("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("P2fV");var n=i(a("NJEC"));a("+L6B");var o=i(a("2/Rp"));a("Pwec");var r=i(a("CtXQ"));a("/xke");var s=i(a("TeRw"));a("OaEy");var u=i(a("2fM7"));a("5NDa");var c=i(a("5rEg")),d=l(a("mrSG")),f=i(a("q1tI")),p=a("MuoO"),m=a("iRFk"),g=a("SaUt"),w=(c.default.Group,u.default.Option,c.default.TextArea),h=function(t){function e(e){var a,l,i=t.call(this,e)||this;return i.handleText=function(t){i.setState({text:t.target.value,isNullText:!t.target.value})},i.handleTitle=function(t){i.setState({title:t.target.value,isNullTitle:!t.target.value})},i.openNotification=function(t,e,a){s.default.open({message:t,description:e,icon:a})},i.clearInput=function(){i.setState({text:"",title:""}),localStorage&&(localStorage.removeItem("writing-title"),localStorage.removeItem("writing-text"))},i.save=function(){localStorage?(localStorage.setItem("writing-title",i.state.title),localStorage.setItem("writing-text",i.state.text),i.openNotification("\u4fdd\u5b58\u8349\u7a3f\u6210\u529f\uff01","\u8349\u7a3f\u5b58\u50a8\u4e8e\u60a8\u7684\u78c1\u76d8\u4e2d\uff0c\u5f53\u60a8\u4e0b\u6b21\u8bbf\u95ee\u672c\u9875\u65f6\uff0c\u5c06\u81ea\u52a8\u586b\u5145\u8349\u7a3f\u5230\u7f16\u8f91\u5668\u4e2d\u3002",f.default.createElement(r.default,{type:"smile",style:{color:"green"}}))):i.openNotification("\u4fdd\u5b58\u8349\u7a3f\u5931\u8d25\uff01","\u60a8\u7684\u6d4f\u89c8\u5668\u53ef\u80fd\u4e0d\u652f\u6301\u79bb\u7ebf\u5b58\u50a8\uff0c\u8bf7\u4f7f\u7528Edge\u3001Chrome\u7b49\u73b0\u4ee3\u6d4f\u89c8\u5668\u4f53\u9a8c\u3002",f.default.createElement(r.default,{type:"frown",style:{color:"red"}}))},i.push=function(){i.state.title&&i.state.text?(i.props.dispatch({type:"global/sendNewArticle",payload:{title:i.state.title,content:i.state.text}}),i.openNotification("\u53d1\u5e03\u4e2d\u2026\u2026","\u60a8\u7684\u7559\u8a00\u6b63\u5728\u5199\u5165GitHub\u9759\u6001\u6587\u4ef6\u670d\u52a1\u5668\uff0c\u7a0d\u540e\u5c06\u5728\u7559\u8a00\u5361\u7247\u4e2d\u5c55\u793a\u3002",f.default.createElement(r.default,{type:"smile",style:{color:"green"}})),i.clearInput()):(i.state.title||(window.scrollTo({top:0}),i.setState({isNullTitle:!0})),i.state.text||(window.scrollTo({top:0}),i.setState({isNullText:!0})),i.openNotification("\u73b0\u5728\u8fd8\u4e0d\u80fd\u53d1\u5e03","\u60a8\u7684\u7559\u8a00\u6807\u9898\u6216\u5185\u5bb9\u4e3a\u7a7a\uff0c\u8bf7\u8f93\u5165\u5b8c\u6574\u3002",f.default.createElement(r.default,{type:"frown",style:{color:"red"}})))},localStorage&&(a=localStorage.getItem("writing-title"),l=localStorage.getItem("writing-text")),i.state={text:l||"",title:a||"",isNullTitle:!1,isNullText:!1},i}return d.__extends(e,t),e.prototype.render=function(){return f.default.createElement("div",null,f.default.createElement(c.default,{value:this.state.title,placeholder:"\u6807\u9898",onChange:this.handleTitle,className:this.state.isNullTitle?g.dangerTitle:g.primaryTitle}),f.default.createElement("div",null,f.default.createElement(w,{onChange:this.handleText,className:this.state.isNullText?g.dangerWriteArea:g.writeArea,value:this.state.text,placeholder:"Markdown\u8bed\u6cd5\u7f16\u8f91\u5668",autosize:!0}),f.default.createElement(m,{source:this.state.text,className:g.parseMarkdown,escapeHtml:!1})),f.default.createElement("div",{style:{float:"left"}},f.default.createElement(o.default,{type:"primary",onClick:this.push,className:g.submitButton},"\u53d1\u5e03"),localStorage?f.default.createElement(o.default,{type:"default",onClick:this.save,className:g.submitButton},"\u5b58\u4e3a\u8349\u7a3f"):null,f.default.createElement(n.default,{title:"\u786e\u5b9a\u6e05\u9664\u6b63\u5728\u7f16\u8f91\u7684\u5185\u5bb9\uff0c\u5e76\u6e05\u7a7a\u8349\u7a3f\u7bb1\uff1f",onConfirm:this.clearInput,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},f.default.createElement(o.default,{type:"danger",className:g.submitButton},"\u91cd\u7f6e")),f.default.createElement(o.default,{type:"dashed",onClick:function(){window.open("https://www.baidu.com/s?wd=markdown\u8bed\u6cd5","_blank")},className:g.submitButton},"Help")))},e}(f.default.Component),v=(0,p.connect)()(h);e.default=v}}]);