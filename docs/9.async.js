(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{R29j:function(t,e,a){"use strict";var l=a("fbTi"),n=a("mZ4U");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("qasP");var r=n(a("O3Zn"));a("VIk5");var o=n(a("X+Ft"));a("5hX3");var i=n(a("wjJH"));a("82+K");var c=n(a("9hBr"));a("ye9w");var s=n(a("ZnsJ"));a("Cg6S");var u=n(a("Vv/m"));a("enMo");var d=n(a("1HgO")),f=l(a("rOct")),p=n(a("FQm9")),m=a("Nyzl"),g=a("x8j0"),h=a("SaUt"),y=(d.default.Group,u.default.Option,d.default.TextArea),v=function(t){function e(e){var a,l,n=t.call(this,e)||this;return n.openNotification=function(t,e,a){s.default.open({message:t,description:e,icon:a})},n.clearInput=function(){n.setState({text:"",title:""}),localStorage&&(localStorage.removeItem("writing-title"),localStorage.removeItem("writing-text"))},n.save=function(){localStorage&&(localStorage.setItem("writing-title",n.state.title),localStorage.setItem("writing-text",n.state.text),c.default.info((new Date).toLocaleString()+"\uff0c\u81ea\u52a8\u4fdd\u5b58\u8349\u7a3f\u6210\u529f\uff01",5))},n.push=function(){n.state.title?(n.props.dispatch({type:"global/sendNewArticle",payload:{title:n.state.title,content:n.state.text,category:n.state.category}}),n.openNotification("\u53d1\u5e03\u4e2d\u2026\u2026","\u60a8\u7684\u7559\u8a00\u6b63\u5728\u5199\u5165GitHub\u9759\u6001\u6587\u4ef6\u670d\u52a1\u5668\uff0c\u7a0d\u540e\u5c06\u5728\u7559\u8a00\u5361\u7247\u4e2d\u5c55\u793a\u3002",p.default.createElement(i.default,{type:"smile",style:{color:"green"}})),n.clearInput()):n.openNotification("\u73b0\u5728\u8fd8\u4e0d\u80fd\u53d1\u5e03","\u8bf7\u8f93\u5165\u6807\u9898\u3002",p.default.createElement(i.default,{type:"frown",style:{color:"red"}}))},localStorage&&(a=localStorage.getItem("writing-title"),l=localStorage.getItem("writing-text")),n.state={text:l||"",title:a||"",category:"life"},n}return f.__extends(e,t),e.prototype.componentDidMount=function(){var t=this;localStorage&&(this.recorder=setInterval(function(){Math.abs(localStorage.getItem("writing-text").length-t.state.text.length)>100&&t.save()},3e4))},e.prototype.componentWillUnmount=function(){clearInterval(this.recorder)},e.prototype.render=function(){var t=this;return p.default.createElement("div",null,p.default.createElement(o.default,{type:"life"===this.state.category?"primary":"dashed",size:"small",style:{margin:"0 10px 10px 0",borderRadius:"5px"},onClick:function(){t.setState({category:"life"})}},"\u751f\u6d3b"),p.default.createElement(o.default,{type:"tech"===this.state.category?"primary":"dashed",size:"small",style:{borderRadius:"5px"},onClick:function(){t.setState({category:"tech"})}},"\u6280\u672f"),p.default.createElement(d.default,{value:this.state.title,placeholder:"\u9898\u76ee",onChange:function(e){t.setState({title:e.target.value})},className:h.primaryTitle}),p.default.createElement("div",{className:h["editor-container"]},p.default.createElement(y,{onChange:function(e){t.setState({text:e.target.value})},className:h.writeArea,value:this.state.text,placeholder:"\u6b63\u6587"}),p.default.createElement(g,{source:this.state.text,className:h.parseMarkdown,escapeHtml:!1})),p.default.createElement("div",null,p.default.createElement(o.default,{type:"primary",onClick:this.push,className:h.submitButton},"\u53d1\u5e03"),p.default.createElement(r.default,{title:"\u786e\u5b9a\u6e05\u9664\u6b63\u5728\u7f16\u8f91\u7684\u5185\u5bb9\uff0c\u5e76\u6e05\u7a7a\u8349\u7a3f\u7bb1\uff1f",onConfirm:this.clearInput,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},p.default.createElement(o.default,{type:"danger",className:h.submitButton},"\u91cd\u7f6e"))))},e}(p.default.Component),x=(0,m.connect)()(v);e.default=x}}]);